<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./../plantilla/plantillaMenuDinamico.xhtml">
            <ui:define name="content">
                <h2 align="center">Encuesta Docente</h2>
                <hr/>
                <br/>
                <b>
                    <p:outputLabel value="#{encuestaBean.docente.doceApellidos.concat(' ').concat(encuestaBean.docente.doceNombres)}"/>
                    <br/>
                    <br/>
                    <p:outputLabel value="#{encuestaBean.docente.doceCedula}"/>
                </b>
                <br/>
                <br/>
                <hr/>
                <br/>
           
                <h:form id="formMaterias" >
                  
                    <p:panel header="ELEGIR MATERIAS QUE VA A DICTAR">  
                        <p:panelGrid columns="7" columnClasses="column">
                            <p:outputLabel value="CARRERA" for="carrCodigo" />
                            <p:selectOneMenu id="carrCodigo" value="#{estudianteController.selected.carrCodigo}"  converter="carreraConverter">
                                <f:selectItem itemLabel="#{propiedades.SelectOneMessage}"/>
                                <f:selectItems value="#{carreraController.items}"
                                               var="carrCodigoItem"
                                               itemValue="#{carrCodigoItem}"
                                               itemLabel="#{carrCodigoItem.carrNombre}"
                                               />
                            </p:selectOneMenu>
                            <p:outputLabel value="MATERIA" for="mateCodigo" />
                            <p:selectOneMenu id="mateCodigo" value="#{disponibilidadMateriaController.selected.mateCodigo}"  converter="materiaConverter">
                                <f:selectItem itemLabel="#{propiedades.SelectOneMessage}"/>
                                <f:selectItems value="#{materiaController.items}"
                                               var="mateCodigoItem"
                                               itemValue="#{mateCodigoItem}"
                                               itemLabel="#{mateCodigoItem.mateNombre}"
                                               />
                            </p:selectOneMenu>
                            <p:outputLabel value="CODIGO" for="encuCodigo" />
                            <p:selectOneMenu id="encuCodigo" value="#{disponibilidadMateriaController.selected.encuCodigo}"  converter="encuestaConverter">
                                <f:selectItem itemLabel="#{propiedades.SelectOneMessage}"/>
                                <f:selectItems value="#{encuestaController.items}"
                                               var="encuCodigoItem"
                                               itemValue="#{encuCodigoItem}"
                                               itemLabel="#{encuCodigoItem.encuCodigo.toString()}"
                                               />
                            </p:selectOneMenu>
                        </p:panelGrid>
                        <p:commandButton actionListener="#{disponibilidadMateriaController.saveNew}" value="AGREGAR">
                            <p:confirm header="#{propiedades.ConfirmationHeader}" message="#{propiedades.ConfirmCreateMessage}" icon="ui-icon-alert"/>
                        </p:commandButton>
                    </p:panel>
                    <br/>
                    <p:outputPanel id="revista">  
                        <p:dataTable id="revistasTable" value="#{oRevista.revistas}" var="revista" >  

                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="CARRERA" />  
                                </f:facet>  
                                <h:outputText value="#{revista.title}" />  
                            </p:column>  

                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="MATERIA" />  
                                </f:facet>  
                                <h:outputText value="#{revista.author}" />  
                            </p:column>  

                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="OPERACION" />  
                                </f:facet>  
                                <h:commandButton value="Borrar"></h:commandButton>
                                <br/>
                            </p:column>  
                        </p:dataTable>  
                    </p:outputPanel>
                    
                    <br/>
                    <br/>
                    <br/>
                     <p:panel header="DIPONIBILIDAD DE HORARIO">  
                            <p:panelGrid columns="9" columnClasses="column">

                                <p:outputLabel value="DIA" for="dihoDia" />
                                <p:inputText id="dihoDia" value="#{disponibilidadHorasController.selected.dihoDia}" title="#{propiedades.CreateDisponibilidadHorasTitle_dihoDia}" size="10" maxlength="10"/>

                                <p:outputLabel value="HORA INICIO" for="dihoHoraInicio" />
                                <p:calendar id="dihoHoraInicio" pattern="HH:mm:ss" value="#{disponibilidadHorasController.selected.dihoHoraInicio}" title="#{propiedades.CreateDisponibilidadHorasTitle_dihoHoraInicio}"  showOn="button"/>

                                <p:outputLabel value="HORA FIN" for="dihoHoraFin" />
                                <p:calendar id="dihoHoraFin" pattern="HH:mm:ss" value="#{disponibilidadHorasController.selected.dihoHoraFin}" title="#{propiedades.CreateDisponibilidadHorasTitle_dihoHoraFin}"  showOn="button"/>
                            
                            </p:panelGrid>
                            <p:commandButton actionListener="#{disponibilidadHorasController.saveNew}" value="AGREGAR" >
                                <p:confirm header="#{propiedades.ConfirmationHeader}" message="#{propiedades.ConfirmCreateMessage}" icon="ui-icon-alert"/>
                            </p:commandButton>
                        </p:panel>
                   
                    <br/>
                     <p:outputPanel id="revista1">  
                        <p:dataTable id="revistasTable1" value="#{oRevista.revistas}" var="revista" >  

                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="DIA" />  
                                </f:facet>  
                                <h:outputText value="#{revista.title}" />  
                            </p:column>  

                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="HORA INICIO" />  
                                </f:facet>  
                                <h:outputText value="#{revista.author}" />  
                            </p:column> 

                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="HORA FIN" />  
                                </f:facet>  
                                <h:outputText value="#{revista.author}" />  
                            </p:column> 

                            <p:column>  
                                <f:facet name="header">  
                                    <h:outputText value="OPERACION" />  
                                </f:facet>  
                                <h:commandButton 
                                                 value="Borrar"></h:commandButton>
                                <br/>
                            </p:column>  
                        </p:dataTable>  
                    </p:outputPanel> 
                </h:form>
                    <br/>
                    <div align="center">
                        <p:commandButton value="Enviar" icon="ui-icon-circle-check" update="formMaterias"
                                         action="#{encuestaBean.realizarEncuesta()}" >
                            <p:confirm header="Confirmar" message="Esta seguro de continuar?" icon="ui-icon-alert" />
                        </p:commandButton>

                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                        </p:confirmDialog>
                    </div>
                    <br/>
                    <br/>
            </ui:define>
        </ui:composition>
    </body>
</html>
